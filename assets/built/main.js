!function(){"use strict";const e=(e,t,s,o)=>{const r=document.querySelector(e),a=document.querySelector(t);r&&a&&r.addEventListener("click",()=>{console.log("test"),a.classList.contains(s)?(a.classList.remove(s),a.classList.add(o)):(a.classList.remove(o),a.classList.add(s))})},t=(e,t)=>{e&&("string"==typeof t&&e.classList.add(t),"object"==typeof t&&e.classList.add(...t))},s=(e,t)=>{e&&("string"==typeof t&&e.classList.remove(t),"object"==typeof t&&e.classList.remove(...t))},o=e=>{e.classList.add("open"),e.classList.add("open-anim")},r=e=>{e.classList.remove("open"),e.classList.remove("close-anim"),e.classList.remove("open-anim")},a=e=>{e.classList.remove("open-anim"),e.classList.add("close-anim")},c=e=>{e.classList.remove("open"),e.classList.remove("close-anim")};let n={id:null};const l=(e,t)=>{r(e),r(t),o(e),o(t)},i=(e,t)=>{a(t),a(e),n.id=setTimeout(()=>{c(e),c(t)},300)},d=(e,t,s)=>{e.addEventListener("mouseenter",()=>{clearTimeout(n.id),r(s),r(t),o(s),o(t)}),e.addEventListener("mouseleave",e=>{c(e.target.querySelector('[data-dropdown-elem="dropdown"]')),a(s),a(t),n.id=setTimeout(()=>{c(t),c(s)},300)}),e.addEventListener("keydown",e=>{const r=e.currentTarget.querySelector("button"),a=e.code;"Space"!==a&&"Enter"!==a||("true"===r.getAttribute("aria-expanded")?(c(t),c(s),r.setAttribute("aria-expanded","false")):(o(s),o(t),r.setAttribute("aria-expanded","true")))}),e.addEventListener("focusout",e=>{const o=e.currentTarget.querySelector("button"),r="."+e.currentTarget.className;e.relatedTarget.closest(r)||(c(t),c(s),o.setAttribute("aria-expanded","false"))})},u=()=>{const e=document.querySelectorAll("[data-tweet-id]");e&&(()=>{const t=localStorage.getItem("data-theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");s="dark"===t?"light":"dark",o=t,e.forEach(e=>{const t=e.getAttribute("src");e.setAttribute("src",t.replace("theme="+s,"theme="+o))});var s,o})()},m=()=>{const e=document.querySelector("html[data-theme]").getAttribute("data-theme");if(document.querySelector("#ghost-comments-root")){document.querySelector("script[data-color-scheme]").setAttribute("data-color-scheme",e)}},h=()=>{const e=document.querySelector("html[data-theme]"),t=e.getAttribute("data-theme");e.setAttribute("data-theme","light"===t?"dark":"light"),localStorage.setItem("data-theme","light"===t?"dark":"light"),m(),u()},b=(e,t)=>{e.forEach(e=>{s(e.lastElementChild,t)})};(()=>{const e=document.querySelector("#ghost-comments-root iframe");e&&e.addEventListener("load",()=>{const t=e.contentDocument||e.contentWindow.document,s=new MutationObserver(e=>{for(const s of e)if("childList"===s.type){const e=t.querySelector('[data-testid="content-box"]'),s=t.querySelector('[data-testid="comment-elements"]');e&&(e.style.paddingBottom="0px"),s&&""!==s.innerHTML.trim()&&(s.style.marginTop="24px")}});t.head.insertAdjacentHTML("beforeend",'<style>\n  \n              section.dark button[data-testid="signin-button"] {\n                color: inherit !important;\n              }\n  \n              section[data-testid="cta-box"] h1:first-child{\n                color: #000000;\n              }\n  \n              section[data-testid="cta-box"] p{\n                color: #606060;\n              }\n  \n              section.dark section[data-testid="cta-box"] h1:first-child{\n              color: #fff;\n              }\n              section.dark section[data-testid="cta-box"] p{\n                color: #acacac;\n              }\n  \n            </style>'),s.observe(t,{childList:!0,subtree:!0})})})(),(()=>{if(document.querySelectorAll(".tier-card").length&&window.innerWidth>1100){const e=document.querySelectorAll(".tier-card__desc");let t=0;e.forEach(e=>{e.clientHeight>=t&&(t=e.clientHeight)}),e.forEach(e=>{e.style.height=`${t}px`})}})(),e(".membership-toggle",".membership","monthly","yearly"),e(".form-toggle",".form-page","sign-in","sign-up"),(()=>{const e=document.querySelector(".overlay");document.querySelectorAll(".nav-submenu-item").forEach(t=>{const s=t.querySelector(".submenu");t.addEventListener("mouseenter",o=>{t.classList.add("open"),clearTimeout(n.id),l(s,e)}),t.addEventListener("mouseleave",o=>{t.classList.remove("open"),c(o.target.querySelector(".submenu")),i(s,e)}),t.addEventListener("keydown",t=>{const o=t.currentTarget.querySelector("button"),r=t.code;"Space"!==r&&"Enter"!==r||(clearTimeout(n.id),"true"===o.getAttribute("aria-expanded")?(i(s,e),o.setAttribute("aria-expanded","false")):(l(s,e),o.setAttribute("aria-expanded","true")))}),t.addEventListener("focusout",t=>{const o="."+t.currentTarget.classList[1],r=t.currentTarget.querySelector("button");t.relatedTarget.closest(o)||(i(s,e),r.setAttribute("aria-expanded","false"))})})})(),(()=>{const e=document.querySelector(".overlay"),t=document.querySelector(".header-account"),s=document.querySelector(".account-dropdown"),o=document.querySelector(".header-subscribe"),r=document.querySelector(".subscribe-dropdown");t&&s&&d(t,s,e),o&&d(o,r,e)})(),(()=>{const e=document.querySelectorAll(".mobile-nav-submenu-item__button");if(!e.length)return;e.forEach(e=>{e.addEventListener("click",t=>{"A"!==t.target.tagName&&(e=>{const t=e.parentElement,s=t.querySelectorAll(".mobile-nav-submenu__item"),o=t.querySelector(".mobile-nav-submenu");if(t.classList.contains("active"))t.classList.remove("active"),o.style.height="0px";else{t.classList.add("active");const e=Array.from(s).reduce((e,t)=>e+t.offsetHeight,0);o.style.height=`${e}px`}})(e)})})})(),(()=>{const e=document.documentElement,t=document.querySelectorAll('.header-btn[data-mobile-menu="open"]'),s=document.querySelector(".mobile-menu-container"),o=document.querySelectorAll(".mobile-nav-submenu-item"),r=document.querySelector(".header"),a=()=>{e.classList.add("lock-scroll"),s.classList.add("menu-open"),r.classList.add("header--announcement-bar-hide")},c=()=>{s.classList.add("menu-hide-anim"),e.classList.remove("lock-scroll"),setTimeout(()=>{s.classList.remove("menu-open"),s.classList.remove("menu-hide-anim"),r.classList.remove("header--announcement-bar-hide"),o.forEach(e=>{e.classList.remove("active"),e.querySelector(".mobile-nav-submenu").style.height="0px"})},250)};t.forEach(e=>e.addEventListener("click",a)),s.addEventListener("click",e=>{const t=e.target;(t.closest('.header-btn[data-mobile-menu="close"]')||t.closest(".mobile-menu-overlay"))&&c()})})(),(()=>{const e=document.querySelectorAll("button[data-switch-theme-btn]");e&&e.forEach(e=>{e.addEventListener("click",h)}),window.addEventListener("load",u),window.addEventListener("load",m)})(),(()=>{const e=document.querySelectorAll(".copyToClipboardBtn");e&&Array.from(e).forEach(e=>{e.addEventListener("click",()=>(e=>{const t=window.location.href,s=(e,t)=>{t?(e.classList.add("copied"),setTimeout(()=>{e.classList.remove("copied")},800)):(e.classList.add("notCopied"),setTimeout(()=>{e.classList.remove("notCopied")},800))};navigator.clipboard.writeText(t).then(()=>{s(e,!0)},()=>{s(e,!1)})})(e))})})(),(()=>{const e=document.querySelector(".progress-bar"),t=document.querySelector(".header");if(!e)return;const s=document.querySelector(".reading-progress"),o=document.querySelector(".post-content");function r(){const e=o.getBoundingClientRect(),r=-1*e.top,a=e.height,c=Math.max(0,Math.min(100,r/a*100));e.top<=0&&e.bottom>=0?(t.classList.add("header--progress-bar-show"),s.setAttribute("value",c)):t.classList.remove("header--progress-bar-show")}window.addEventListener("scroll",r),window.addEventListener("load",r)})(),(()=>{const e=document.querySelector(".post-header"),t=document.querySelector(".post-read-next"),s=document.querySelector(".next-block"),o=document.querySelector(".footer");if(!e||!s)return;const r=s.querySelector(".next-block-post__close-btn"),a=new IntersectionObserver(r=>{r.forEach(r=>{r.target.classList.contains("post-header")&&(r.isIntersecting?(e.classList.add("visible-js"),s.classList.remove("next-block--show")):(e.classList.remove("visible-js"),t.classList.contains("visible-js")||s.classList.add("next-block--show"))),r.target.classList.contains("post-read-next")&&(r.isIntersecting?(t.classList.add("visible-js"),s.classList.remove("next-block--show")):(t.classList.remove("visible-js"),e.classList.contains("visible-js")||s.classList.add("next-block--show"),o.classList.contains("visible-js")&&s.classList.remove("next-block--show"))),r.target.classList.contains("footer")&&(r.isIntersecting?(o.classList.add("visible-js"),s.classList.remove("next-block--show")):o.classList.remove("visible-js"))})},{threshold:0});[e,t,o].forEach(e=>a.observe(e)),r.addEventListener("click",o=>{o.preventDefault(),s.classList.remove("next-block--show"),[e,t].forEach(e=>a.unobserve(e))})})(),(()=>{const e=document.querySelector(".header"),o=document.querySelectorAll("aside");if(!e)return;let r=0;const a=()=>{var a;0===window.scrollY?b(o,"last-elem--header-show"):window.scrollY>0&&(window.scrollY<r?(s(e,"hide"),a="last-elem--header-show",o.forEach(e=>{t(e.lastElementChild,a)})):(t(e,"hide"),b(o,"last-elem--header-show"))),r=window.scrollY};a(),window.addEventListener("scroll",a)})(),((e,t)=>{const s=document.querySelector(`.${e}`).querySelectorAll(`.${t}`);let o=0;s.forEach(e=>{const t=e.getBoundingClientRect().width;t>o&&(o=t)}),s.forEach(e=>{e.style.flexBasis=`${o}px`})})("footer-nav","footer-nav-list");document.querySelectorAll(".sidebar").forEach(e=>{e.lastElementChild.classList.add("last-elem")});let L=document.head.querySelector('link[rel="next"]')?.href;function y(e,t){e.forEach(e=>{e.classList.contains("post-card-big-primary")&&((e,t,s)=>{const o=e.querySelectorAll(`[class*="${t}"]`);e.classList.replace(t,s),o.forEach(e=>{e.classList.forEach(o=>{if(o.startsWith(t)){const r=o.replace(t,s);e.classList.replace(o,r)}})})})(e,"post-card-big-primary","post-card-default"),t.append(e)})}const v=document.querySelector('[data-load-more-btn="enable"]');if(v){const e=document.querySelector("[data-load-more-posts]");v.addEventListener("click",function(){(async(e,t,s)=>{if(e.classList.add("loading"),L)try{const o=await fetch(L);if(o.ok){const r=await o.text(),a=(new DOMParser).parseFromString(r,"text/html"),c=a.querySelectorAll("[data-load-more-posts] article"),n=a.querySelector('link[rel="next"]')?.href;s(c,t),n?L=n:(e.style.display="none",document.querySelector("[data-load-more-posts]").setAttribute("data-load-more-posts","disable")),e.classList.remove("loading")}else console.error("Error HTTP: "+o.status)}catch(e){console.error(e)}})(this,e,y)})}}();
//# sourceMappingURL=main.js.map
