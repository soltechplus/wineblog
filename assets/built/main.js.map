{"version":3,"file":"main.js","sources":["../js/utils.js","../js/submenu.js","../js/dropdown.js","../js/darkMode.js","../js/header.js","../js/comments.js","../js/main.js","../js/mobileMenu.js","../js/progressBar.js","../js/nextPostBlock.js"],"sourcesContent":["export const changePostCardView = (post, currentPostClass, newPostClass) => {\r\n  const postElements = post.querySelectorAll(`[class*=\"${currentPostClass}\"]`);\r\n\r\n  post.classList.replace(currentPostClass, newPostClass);\r\n\r\n  postElements.forEach((postElement) => {\r\n    const classNames = postElement.classList;\r\n    classNames.forEach((className) => {\r\n      if (className.startsWith(currentPostClass)) {\r\n        const newClassName = className.replace(currentPostClass, newPostClass);\r\n        postElement.classList.replace(className, newClassName);\r\n      }\r\n    });\r\n  });\r\n};\r\n\r\nexport const toggleClasses = (triggerSelector, targetSelector, firstClass, secondClass) => {\r\n  const trigger = document.querySelector(triggerSelector);\r\n  const target = document.querySelector(targetSelector);\r\n\r\n  if (!trigger || !target) {\r\n    return;\r\n  }\r\n\r\n  trigger.addEventListener('click', () => {\r\n    console.log('test');\r\n    if (target.classList.contains(firstClass)) {\r\n      target.classList.remove(firstClass);\r\n      target.classList.add(secondClass);\r\n    } else {\r\n      target.classList.remove(secondClass);\r\n      target.classList.add(firstClass);\r\n    }\r\n  });\r\n};\r\n\r\nexport const copyToClipboard = () => {\r\n  const shareLinkBtns = document.querySelectorAll('.copyToClipboardBtn');\r\n\r\n  const toCopy = (clickedBtn) => {\r\n    const url = window.location.href;\r\n\r\n    const handleCopy = (btn, success) => {\r\n      if (success) {\r\n        btn.classList.add('copied');\r\n        setTimeout(() => {\r\n          btn.classList.remove('copied');\r\n        }, 800);\r\n      } else {\r\n        btn.classList.add('notCopied');\r\n        setTimeout(() => {\r\n          btn.classList.remove('notCopied');\r\n        }, 800);\r\n      }\r\n    };\r\n\r\n    navigator.clipboard.writeText(url).then(\r\n      () => {\r\n        handleCopy(clickedBtn, true);\r\n      },\r\n      () => {\r\n        handleCopy(clickedBtn, false);\r\n      }\r\n    );\r\n  };\r\n\r\n  if (shareLinkBtns) {\r\n    Array.from(shareLinkBtns).forEach((btn) => {\r\n      btn.addEventListener('click', () => toCopy(btn));\r\n    });\r\n  }\r\n};\r\n\r\nexport const addClassToElement = (element, classNames) => {\r\n  if (element) {\r\n    if (typeof classNames === 'string') element.classList.add(classNames);\r\n    if (typeof classNames === 'object') element.classList.add(...classNames);\r\n  }\r\n};\r\n\r\nexport const removeClassFromElement = (element, classNames) => {\r\n  if (element) {\r\n    if (typeof classNames === 'string') element.classList.remove(classNames);\r\n    if (typeof classNames === 'object') element.classList.remove(...classNames);\r\n  }\r\n};\r\n\r\nexport const showElem = (elem) => {\r\n  elem.classList.add('open');\r\n  elem.classList.add('open-anim');\r\n};\r\n\r\nexport const stopElemAnim = (elem) => {\r\n  elem.classList.remove('open');\r\n  elem.classList.remove('close-anim');\r\n  elem.classList.remove('open-anim');\r\n};\r\n\r\nexport const addCloseElemAnim = (elem) => {\r\n  elem.classList.remove('open-anim');\r\n  elem.classList.add('close-anim');\r\n};\r\n\r\nexport const hideElem = (elem) => {\r\n  elem.classList.remove('open');\r\n  elem.classList.remove('close-anim');\r\n};\r\n\r\nexport let timeout = {\r\n  id: null\r\n};\r\n\r\nexport const calcHeightTierCard = () => {\r\n  const membershipCards = document.querySelectorAll('.tier-card');\r\n\r\n  if (membershipCards.length && window.innerWidth > 1100) {\r\n    const cardsDescriptions = document.querySelectorAll('.tier-card__desc');\r\n    let maxHeight = 0;\r\n\r\n    cardsDescriptions.forEach((desc) => {\r\n      if (desc.clientHeight >= maxHeight) {\r\n        maxHeight = desc.clientHeight;\r\n      }\r\n    });\r\n\r\n    cardsDescriptions.forEach((desc) => {\r\n      desc.style.height = `${maxHeight}px`;\r\n    });\r\n  }\r\n};\r\n\r\nexport const setColumnMaxWidth = (gridSelector, columnSelector) => {\r\n  const grid = document.querySelector(`.${gridSelector}`);\r\n  const columns = grid.querySelectorAll(`.${columnSelector}`);\r\n  let maxWidth = 0;\r\n\r\n  columns.forEach((column) => {\r\n    const width = column.getBoundingClientRect().width;\r\n    if (width > maxWidth) maxWidth = width;\r\n  });\r\n\r\n  columns.forEach((column) => {\r\n    column.style.flexBasis = `${maxWidth}px`;\r\n  });\r\n};\r\n","import { showElem, stopElemAnim, addCloseElemAnim, hideElem } from './utils';\r\nimport { timeout } from './utils';\r\n\r\nconst showSubmenu = (elem, overlay) => {\r\n  stopElemAnim(elem);\r\n  stopElemAnim(overlay);\r\n\r\n  showElem(elem);\r\n  showElem(overlay);\r\n};\r\n\r\nconst hideSubmenu = (elem, overlay) => {\r\n  addCloseElemAnim(overlay);\r\n  addCloseElemAnim(elem);\r\n\r\n  timeout.id = setTimeout(() => {\r\n    hideElem(elem);\r\n    hideElem(overlay);\r\n  }, 300);\r\n};\r\n\r\nexport const initSubmenu = () => {\r\n  const overlay = document.querySelector('.overlay');\r\n  const submenuItems = document.querySelectorAll('.nav-submenu-item');\r\n\r\n  submenuItems.forEach((submenuItem) => {\r\n    const submenu = submenuItem.querySelector('.submenu');\r\n\r\n    submenuItem.addEventListener('mouseenter', (e) => {\r\n      submenuItem.classList.add('open');\r\n      clearTimeout(timeout.id);\r\n      showSubmenu(submenu, overlay);\r\n    });\r\n    submenuItem.addEventListener('mouseleave', (e) => {\r\n      submenuItem.classList.remove('open');\r\n      hideElem(e.target.querySelector('.submenu'));\r\n      hideSubmenu(submenu, overlay);\r\n    });\r\n\r\n    submenuItem.addEventListener('keydown', (e) => {\r\n      const submenuBtn = e.currentTarget.querySelector('button');\r\n      const keyCode = e.code;\r\n\r\n      if (keyCode === 'Space' || keyCode === 'Enter') {\r\n        clearTimeout(timeout.id);\r\n        if (submenuBtn.getAttribute('aria-expanded') === 'true') {\r\n          hideSubmenu(submenu, overlay);\r\n\r\n          submenuBtn.setAttribute('aria-expanded', 'false');\r\n        } else {\r\n          showSubmenu(submenu, overlay);\r\n\r\n          submenuBtn.setAttribute('aria-expanded', 'true');\r\n        }\r\n      }\r\n    });\r\n\r\n    submenuItem.addEventListener('focusout', (e) => {\r\n      const currentTargetLastClass = '.' + e.currentTarget.classList[1];\r\n      const submenuBtn = e.currentTarget.querySelector('button');\r\n\r\n      if (!e.relatedTarget.closest(currentTargetLastClass)) {\r\n        hideSubmenu(submenu, overlay);\r\n\r\n        submenuBtn.setAttribute('aria-expanded', 'false');\r\n      }\r\n    });\r\n  });\r\n};\r\n","import { showElem, stopElemAnim, addCloseElemAnim, hideElem } from './utils';\r\nimport { timeout } from './utils';\r\n\r\nconst dropdownHandler = (btn, dropdown, overlay) => {\r\n  btn.addEventListener('mouseenter', () => {\r\n    clearTimeout(timeout.id);\r\n\r\n    stopElemAnim(overlay);\r\n    stopElemAnim(dropdown);\r\n\r\n    showElem(overlay);\r\n    showElem(dropdown);\r\n  });\r\n\r\n  btn.addEventListener('mouseleave', (e) => {\r\n    hideElem(e.target.querySelector('[data-dropdown-elem=\"dropdown\"]'));\r\n    addCloseElemAnim(overlay);\r\n    addCloseElemAnim(dropdown);\r\n\r\n    timeout.id = setTimeout(() => {\r\n      hideElem(dropdown);\r\n      hideElem(overlay);\r\n    }, 300);\r\n  });\r\n\r\n  btn.addEventListener('keydown', (e) => {\r\n    const currentTarget = e.currentTarget.querySelector('button');\r\n    const keyCode = e.code;\r\n\r\n    if (keyCode === 'Space' || keyCode === 'Enter') {\r\n      if (currentTarget.getAttribute('aria-expanded') === 'true') {\r\n        hideElem(dropdown);\r\n        hideElem(overlay);\r\n        currentTarget.setAttribute('aria-expanded', 'false');\r\n      } else {\r\n        showElem(overlay);\r\n        showElem(dropdown);\r\n        currentTarget.setAttribute('aria-expanded', 'true');\r\n      }\r\n    }\r\n  });\r\n\r\n  btn.addEventListener('focusout', (e) => {\r\n    const currentTarget = e.currentTarget.querySelector('button');\r\n    const currentTargetClass = '.' + e.currentTarget.className;\r\n\r\n    if (!e.relatedTarget.closest(currentTargetClass)) {\r\n      hideElem(dropdown);\r\n      hideElem(overlay);\r\n      currentTarget.setAttribute('aria-expanded', 'false');\r\n    }\r\n  });\r\n};\r\n\r\nexport const initDropdown = () => {\r\n  const overlay = document.querySelector('.overlay');\r\n  const accountBtn = document.querySelector('.header-account');\r\n  const dropdownAccount = document.querySelector('.account-dropdown');\r\n  const subscribeBtn = document.querySelector('.header-subscribe');\r\n  const dropdownSubscribe = document.querySelector('.subscribe-dropdown');\r\n\r\n  if (accountBtn && dropdownAccount) {\r\n    dropdownHandler(accountBtn, dropdownAccount, overlay);\r\n  }\r\n\r\n  if (subscribeBtn) {\r\n    dropdownHandler(subscribeBtn, dropdownSubscribe, overlay);\r\n  }\r\n};\r\n","const changeTwitterCardTheme = () => {\r\n  const tweets = document.querySelectorAll('[data-tweet-id]');\r\n\r\n  const changeTweetsTheme = () => {\r\n    const storedTheme =\r\n      localStorage.getItem('data-theme') ||\r\n      (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');\r\n    const targetTheme = storedTheme === 'dark' ? 'light' : 'dark';\r\n\r\n    const switchTweetTheme = (currentTheme, targetTheme) => {\r\n      tweets.forEach((tweet) => {\r\n        const src = tweet.getAttribute('src');\r\n        tweet.setAttribute('src', src.replace('theme=' + currentTheme, 'theme=' + targetTheme));\r\n      });\r\n    };\r\n\r\n    switchTweetTheme(targetTheme, storedTheme);\r\n  };\r\n\r\n  if (tweets) {\r\n    changeTweetsTheme();\r\n  }\r\n};\r\n\r\nconst changeCommentsColorOnToggle = () => {\r\n  const rootElem = document.querySelector('html[data-theme]');\r\n  const theme = rootElem.getAttribute('data-theme');\r\n\r\n  const commentsSection = document.querySelector('#ghost-comments-root');\r\n\r\n  if (commentsSection) {\r\n    const commentsScript = document.querySelector('script[data-color-scheme]');\r\n    commentsScript.setAttribute('data-color-scheme', theme);\r\n  }\r\n};\r\n\r\nconst switchTheme = () => {\r\n  const rootElem = document.querySelector('html[data-theme]');\r\n  const currentTheme = rootElem.getAttribute('data-theme');\r\n\r\n  rootElem.setAttribute('data-theme', currentTheme === 'light' ? 'dark' : 'light');\r\n  localStorage.setItem('data-theme', currentTheme === 'light' ? 'dark' : 'light');\r\n  changeCommentsColorOnToggle();\r\n  changeTwitterCardTheme();\r\n};\r\n\r\nexport const initDarkMode = () => {\r\n  const switchThemeBtns = document.querySelectorAll('button[data-switch-theme-btn]');\r\n\r\n  if (switchThemeBtns) {\r\n    switchThemeBtns.forEach((switchThemeBtn) => {\r\n      switchThemeBtn.addEventListener('click', switchTheme);\r\n    });\r\n  }\r\n\r\n  window.addEventListener('load', changeTwitterCardTheme);\r\n  window.addEventListener('load', changeCommentsColorOnToggle);\r\n};\r\n","import { addClassToElement, removeClassFromElement } from './utils';\r\n\r\nconst addClassToLastElements = (elements, className) => {\r\n  elements.forEach((element) => {\r\n    addClassToElement(element.lastElementChild, className);\r\n  });\r\n};\r\n\r\nconst removeClassFromLastElements = (elements, className) => {\r\n  elements.forEach((element) => {\r\n    removeClassFromElement(element.lastElementChild, className);\r\n  });\r\n};\r\n\r\nexport const initHeader = () => {\r\n  const header = document.querySelector('.header');\r\n  const sidebars = document.querySelectorAll('aside');\r\n\r\n  if (!header) {\r\n    return;\r\n  }\r\n\r\n  const hidePos = 0; // in px;\r\n  let prevScrollYPos = 0; // in px;\r\n\r\n  const headerScrollHandler = () => {\r\n    if (window.scrollY === 0) {\r\n      removeClassFromLastElements(sidebars, 'last-elem--header-show');\r\n    } else if (window.scrollY > hidePos) {\r\n      if (window.scrollY < prevScrollYPos) {\r\n        removeClassFromElement(header, 'hide');\r\n        addClassToLastElements(sidebars, 'last-elem--header-show');\r\n      } else {\r\n        addClassToElement(header, 'hide');\r\n        removeClassFromLastElements(sidebars, 'last-elem--header-show');\r\n      }\r\n    }\r\n\r\n    prevScrollYPos = window.scrollY;\r\n  };\r\n\r\n  headerScrollHandler();\r\n  window.addEventListener('scroll', headerScrollHandler);\r\n};\r\n","export const initComments = () => {\r\n  const iframe = document.querySelector('#ghost-comments-root iframe');\r\n\r\n  if (iframe) {\r\n    iframe.addEventListener('load', () => {\r\n      const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;\r\n\r\n      const observer = new MutationObserver((mutationsList) => {\r\n        for (const mutation of mutationsList) {\r\n          if (mutation.type === 'childList') {\r\n            const commentsWrapper = iframeDoc.querySelector('[data-testid=\"content-box\"]');\r\n            const commentsElement = iframeDoc.querySelector('[data-testid=\"comment-elements\"]');\r\n\r\n            if (commentsWrapper) {\r\n              commentsWrapper.style.paddingBottom = '0px';\r\n            }\r\n\r\n            if (commentsElement && commentsElement.innerHTML.trim() !== '') {\r\n              commentsElement.style.marginTop = '24px';\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      iframeDoc.head.insertAdjacentHTML(\r\n        'beforeend',\r\n        `<style>\r\n  \r\n              section.dark button[data-testid=\"signin-button\"] {\r\n                color: inherit !important;\r\n              }\r\n  \r\n              section[data-testid=\"cta-box\"] h1:first-child{\r\n                color: #000000;\r\n              }\r\n  \r\n              section[data-testid=\"cta-box\"] p{\r\n                color: #606060;\r\n              }\r\n  \r\n              section.dark section[data-testid=\"cta-box\"] h1:first-child{\r\n              color: #fff;\r\n              }\r\n              section.dark section[data-testid=\"cta-box\"] p{\r\n                color: #acacac;\r\n              }\r\n  \r\n            </style>`\r\n      );\r\n\r\n      observer.observe(iframeDoc, { childList: true, subtree: true });\r\n    });\r\n  }\r\n};\r\n","// SCSS imports\r\n// --------------------------------------------------------\r\n\r\nimport '../scss/index.scss';\r\n\r\n// JS imports\r\n// --------------------------------------------------------\r\n\r\nimport { initSubmenu } from './submenu';\r\nimport { initDropdown } from './dropdown';\r\nimport { initMobileMenu, initMobileSubmenus } from './mobileMenu';\r\nimport { initDarkMode } from './darkMode';\r\nimport { initProgressBar } from './progressBar';\r\nimport { initNextPostBlock } from './nextPostBlock';\r\nimport { initHeader } from './header';\r\nimport {\r\n  copyToClipboard,\r\n  changePostCardView,\r\n  toggleClasses,\r\n  calcHeightTierCard,\r\n  setColumnMaxWidth\r\n} from './utils';\r\nimport { initComments } from './comments';\r\n\r\n// Set dark mode colors for comments block on post page\r\n// --------------------------------------------------------\r\n\r\ninitComments();\r\n\r\n// Toggle plan on membership page Script\r\n// --------------------------------------------------------\r\n\r\ncalcHeightTierCard();\r\n\r\n// Toggle plan on membership page\r\n// --------------------------------------------------------\r\n\r\ntoggleClasses('.membership-toggle', '.membership', 'monthly', 'yearly');\r\n\r\n// Toggle form on Sign In/Sign Up page\r\n// --------------------------------------------------------\r\n\r\ntoggleClasses('.form-toggle', '.form-page', 'sign-in', 'sign-up');\r\n\r\n// Submenu Script\r\n// --------------------------------------------------------\r\n\r\ninitSubmenu();\r\n\r\n// Dropdown Script\r\n// --------------------------------------------------------\r\n\r\ninitDropdown();\r\n\r\n// Mobile menu scripts\r\n// --------------------------------------------------------\r\n\r\ninitMobileSubmenus();\r\ninitMobileMenu();\r\n\r\n// Dark Mode Script\r\n// --------------------------------------------------------\r\n\r\ninitDarkMode();\r\n\r\n// Copy to clipboard button script\r\n// --------------------------------------------------------\r\n\r\ncopyToClipboard();\r\n\r\n// Progress Bar script\r\n// --------------------------------------------------------\r\n\r\ninitProgressBar();\r\n\r\n// Script show next post on post page\r\n// --------------------------------------------------------\r\n\r\ninitNextPostBlock();\r\n\r\n// Header Script\r\n// --------------------------------------------------------\r\n\r\ninitHeader();\r\n\r\n// Set max width column for grid on footer nav\r\n// --------------------------------------------------------\r\n\r\nsetColumnMaxWidth('footer-nav', 'footer-nav-list');\r\n\r\n// Set \"position: sticky\" last element in sidebar\r\n// --------------------------------------------------------\r\n\r\nconst sidebars = document.querySelectorAll('.sidebar');\r\n\r\nsidebars.forEach((sidebar) => {\r\n  sidebar.lastElementChild.classList.add('last-elem');\r\n});\r\n\r\n// LoadMore script\r\n\r\nlet nextUrl = document.head.querySelector('link[rel=\"next\"]')?.href;\r\n\r\nfunction renderPosts(postsArray, containerNode) {\r\n  postsArray.forEach((postCard) => {\r\n    if (postCard.classList.contains('post-card-big-primary')) {\r\n      changePostCardView(postCard, 'post-card-big-primary', 'post-card-default');\r\n    }\r\n\r\n    containerNode.append(postCard);\r\n  });\r\n}\r\n\r\nconst loadMorePosts = async (loadMoreButton, postsWrapper, renderPostsFunction) => {\r\n  loadMoreButton.classList.add('loading');\r\n\r\n  if (nextUrl) {\r\n    try {\r\n      const response = await fetch(nextUrl);\r\n\r\n      if (response.ok) {\r\n        const responseText = await response.text();\r\n        const html = new DOMParser().parseFromString(responseText, 'text/html');\r\n        const posts = html.querySelectorAll(`[data-load-more-posts] article`);\r\n        const nextPageUrl = html.querySelector('link[rel=\"next\"]')?.href;\r\n\r\n        renderPostsFunction(posts, postsWrapper);\r\n\r\n        //Update the next page link in the document head\r\n        if (nextPageUrl) {\r\n          nextUrl = nextPageUrl;\r\n        } else {\r\n          loadMoreButton.style.display = 'none';\r\n          document\r\n            .querySelector('[data-load-more-posts]')\r\n            .setAttribute('data-load-more-posts', 'disable');\r\n        }\r\n\r\n        loadMoreButton.classList.remove('loading');\r\n      } else {\r\n        console.error('Error HTTP: ' + response.status);\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n};\r\n\r\nconst loadMoreBtn = document.querySelector('[data-load-more-btn=\"enable\"]');\r\n\r\nif (loadMoreBtn) {\r\n  const postsSection = document.querySelector('[data-load-more-posts]');\r\n  loadMoreBtn.addEventListener('click', function () {\r\n    loadMorePosts(this, postsSection, renderPosts);\r\n  });\r\n}\r\n","export const initMobileMenu = () => {\r\n  const html = document.documentElement;\r\n  const burgerBtns = document.querySelectorAll('.header-btn[data-mobile-menu=\"open\"]');\r\n  const mobileMenuContainer = document.querySelector('.mobile-menu-container');\r\n  const submenuItems = document.querySelectorAll('.mobile-nav-submenu-item');\r\n  const header = document.querySelector('.header');\r\n\r\n  const closeActiveSubMenu = () => {\r\n    submenuItems.forEach((item) => {\r\n      item.classList.remove('active');\r\n      item.querySelector('.mobile-nav-submenu').style.height = '0px';\r\n    });\r\n  };\r\n\r\n  const openMobileMenu = () => {\r\n    html.classList.add('lock-scroll');\r\n    mobileMenuContainer.classList.add('menu-open');\r\n    header.classList.add('header--announcement-bar-hide');\r\n  };\r\n\r\n  const closeMobileMenu = () => {\r\n    mobileMenuContainer.classList.add('menu-hide-anim');\r\n    html.classList.remove('lock-scroll');\r\n\r\n    setTimeout(() => {\r\n      mobileMenuContainer.classList.remove('menu-open');\r\n      mobileMenuContainer.classList.remove('menu-hide-anim');\r\n      header.classList.remove('header--announcement-bar-hide');\r\n      closeActiveSubMenu();\r\n    }, 250);\r\n  };\r\n\r\n  burgerBtns.forEach((burgerBtn) => burgerBtn.addEventListener('click', openMobileMenu));\r\n\r\n  mobileMenuContainer.addEventListener('click', (e) => {\r\n    const elem = e.target;\r\n\r\n    if (\r\n      elem.closest('.header-btn[data-mobile-menu=\"close\"]') ||\r\n      elem.closest('.mobile-menu-overlay')\r\n    ) {\r\n      closeMobileMenu();\r\n    }\r\n  });\r\n};\r\n\r\nexport const initMobileSubmenus = () => {\r\n  const submenuItems = document.querySelectorAll('.mobile-nav-submenu-item__button');\r\n\r\n  if (!submenuItems.length) {\r\n    return;\r\n  }\r\n\r\n  const clickHandler = (btn) => {\r\n    const submenu = btn.parentElement;\r\n    const submenuItems = submenu.querySelectorAll('.mobile-nav-submenu__item');\r\n    const submenuItemsList = submenu.querySelector('.mobile-nav-submenu');\r\n\r\n    if (submenu.classList.contains('active')) {\r\n      submenu.classList.remove('active');\r\n      submenuItemsList.style.height = '0px';\r\n    } else {\r\n      submenu.classList.add('active');\r\n\r\n      const submenuHeight = Array.from(submenuItems).reduce(\r\n        (accumulator, currentValue) => accumulator + currentValue.offsetHeight,\r\n        0\r\n      );\r\n      submenuItemsList.style.height = `${submenuHeight}px`;\r\n    }\r\n  };\r\n\r\n  submenuItems.forEach((btn) => {\r\n    btn.addEventListener('click', (e) => {\r\n      if (e.target.tagName === 'A') {\r\n        return;\r\n      }\r\n\r\n      clickHandler(btn);\r\n    });\r\n  });\r\n};\r\n","export const initProgressBar = () => {\r\n  const progressBar = document.querySelector('.progress-bar');\r\n  const header = document.querySelector('.header');\r\n\r\n  if (!progressBar) {\r\n    return;\r\n  }\r\n\r\n  const readingProgress = document.querySelector('.reading-progress');\r\n  const postContent = document.querySelector('.post-content');\r\n\r\n  function updateProgress() {\r\n    const postContentRect = postContent.getBoundingClientRect();\r\n    const scrollPosition = postContentRect.top * -1;\r\n    const totalPostHeight = postContentRect.height;\r\n    const progressPercentage = Math.max(0, Math.min(100, (scrollPosition / totalPostHeight) * 100));\r\n\r\n    if (postContentRect.top <= 0 && postContentRect.bottom >= 0) {\r\n      header.classList.add('header--progress-bar-show');\r\n      readingProgress.setAttribute('value', progressPercentage);\r\n    } else {\r\n      header.classList.remove('header--progress-bar-show');\r\n    }\r\n  }\r\n\r\n  window.addEventListener('scroll', updateProgress);\r\n  window.addEventListener('load', updateProgress);\r\n};\r\n","export const initNextPostBlock = () => {\r\n  const postHeader = document.querySelector('.post-header');\r\n  const readNextSection = document.querySelector('.post-read-next');\r\n  const nextBlock = document.querySelector('.next-block');\r\n  const footer = document.querySelector('.footer');\r\n\r\n  if (!postHeader || !nextBlock) {\r\n    return;\r\n  }\r\n\r\n  const nextBlockCloseBtn = nextBlock.querySelector('.next-block-post__close-btn');\r\n\r\n  const hideNextBlock = () => {\r\n    nextBlock.classList.remove('next-block--show');\r\n  };\r\n\r\n  const observer = new IntersectionObserver(\r\n    (entries) => {\r\n      entries.forEach((entry) => {\r\n        if (entry.target.classList.contains('post-header')) {\r\n          if (!entry.isIntersecting) {\r\n            postHeader.classList.remove('visible-js');\r\n            if (!readNextSection.classList.contains('visible-js')) {\r\n              nextBlock.classList.add('next-block--show');\r\n            }\r\n          } else {\r\n            postHeader.classList.add('visible-js');\r\n            nextBlock.classList.remove('next-block--show');\r\n          }\r\n        }\r\n\r\n        if (entry.target.classList.contains('post-read-next')) {\r\n          if (entry.isIntersecting) {\r\n            readNextSection.classList.add('visible-js');\r\n            nextBlock.classList.remove('next-block--show');\r\n          } else {\r\n            readNextSection.classList.remove('visible-js');\r\n            if (!postHeader.classList.contains('visible-js')) {\r\n              nextBlock.classList.add('next-block--show');\r\n            }\r\n            if (footer.classList.contains('visible-js')) {\r\n              nextBlock.classList.remove('next-block--show');\r\n            }\r\n          }\r\n        }\r\n\r\n        if (entry.target.classList.contains('footer')) {\r\n          if (entry.isIntersecting) {\r\n            footer.classList.add('visible-js');\r\n            nextBlock.classList.remove('next-block--show');\r\n          } else {\r\n            footer.classList.remove('visible-js');\r\n          }\r\n        }\r\n      });\r\n    },\r\n    { threshold: 0 }\r\n  );\r\n\r\n  [postHeader, readNextSection, footer].forEach((element) => observer.observe(element));\r\n\r\n  nextBlockCloseBtn.addEventListener('click', (e) => {\r\n    e.preventDefault();\r\n    hideNextBlock();\r\n\r\n    [postHeader, readNextSection].forEach((element) => observer.unobserve(element));\r\n  });\r\n};\r\n"],"names":["toggleClasses","triggerSelector","targetSelector","firstClass","secondClass","trigger","document","querySelector","target","addEventListener","console","log","classList","contains","remove","add","addClassToElement","element","classNames","removeClassFromElement","showElem","elem","stopElemAnim","addCloseElemAnim","hideElem","timeout","id","showSubmenu","overlay","hideSubmenu","setTimeout","dropdownHandler","btn","dropdown","clearTimeout","e","currentTarget","keyCode","code","getAttribute","setAttribute","currentTargetClass","className","relatedTarget","closest","changeTwitterCardTheme","tweets","querySelectorAll","changeTweetsTheme","storedTheme","localStorage","getItem","window","matchMedia","matches","currentTheme","targetTheme","forEach","tweet","src","replace","switchTweetTheme","changeCommentsColorOnToggle","theme","switchTheme","rootElem","setItem","removeClassFromLastElements","elements","lastElementChild","initComments","iframe","iframeDoc","contentDocument","contentWindow","observer","MutationObserver","mutationsList","mutation","type","commentsWrapper","commentsElement","style","paddingBottom","innerHTML","trim","marginTop","head","insertAdjacentHTML","observe","childList","subtree","calcHeightTierCard","length","innerWidth","cardsDescriptions","maxHeight","desc","clientHeight","height","initSubmenu","submenuItem","submenu","submenuBtn","currentTargetLastClass","initDropdown","accountBtn","dropdownAccount","subscribeBtn","dropdownSubscribe","initMobileSubmenus","submenuItems","tagName","parentElement","submenuItemsList","submenuHeight","Array","from","reduce","accumulator","currentValue","offsetHeight","clickHandler","initMobileMenu","html","documentElement","burgerBtns","mobileMenuContainer","header","openMobileMenu","closeMobileMenu","item","burgerBtn","initDarkMode","switchThemeBtns","switchThemeBtn","copyToClipboard","shareLinkBtns","clickedBtn","url","location","href","handleCopy","success","navigator","clipboard","writeText","then","toCopy","initProgressBar","progressBar","readingProgress","postContent","updateProgress","postContentRect","getBoundingClientRect","scrollPosition","top","totalPostHeight","progressPercentage","Math","max","min","bottom","initNextPostBlock","postHeader","readNextSection","nextBlock","footer","nextBlockCloseBtn","IntersectionObserver","entries","entry","isIntersecting","threshold","preventDefault","unobserve","initHeader","sidebars","prevScrollYPos","headerScrollHandler","addClassToLastElements","scrollY","setColumnMaxWidth","gridSelector","columnSelector","columns","maxWidth","column","width","flexBasis","sidebar","nextUrl","renderPosts","postsArray","containerNode","postCard","changePostCardView","post","currentPostClass","newPostClass","postElements","postElement","startsWith","newClassName","append","loadMoreBtn","postsSection","async","loadMoreButton","postsWrapper","renderPostsFunction","response","fetch","ok","responseText","text","DOMParser","parseFromString","posts","nextPageUrl","display","error","status","loadMorePosts","this"],"mappings":"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"}